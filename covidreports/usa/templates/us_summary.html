{% extends "layout.html" %}

{% block content %}

    <h2>{{title}}</h2>

    <h4><a href="{{ url_for('usa.counties', sorting='county') }}">View County Data</a></h4>
                
    <div class="data-table">

        <!--Search box-->
        <input type="text" class="form-control" id="USInput" onkeyup='findData("USSummaryTable", "USInput", 1);' placeholder="Search for a state/territory.">

        <table id="USSummaryTable" class="table table-striped">

            <p><em>Click on column names to sort data.</em></p>

            <thead>
                <tr class="field-names">
                    <th class="header-row">Rank</th>
                    <th class="header-row"><a class="header-row" href="{{ url_for('usa.us_summary', sorting='state') }}">State</a></th>
                    <th class="header-row"><a class="header-row" href="{{ url_for('usa.us_summary', sorting='cases') }}">Total Cases</a></th>
                    <th class="header-row"><a class="header-row" href="{{ url_for('usa.us_summary', sorting='deaths') }}">Total Deaths</a></th>
                </tr>  
            </thead>

            {% for state in data %}
                <!--Table for summary data-->
                <tbody>
                    <tr>
                        <td>{{state.Rank}}</td>
                        <td class="country_name"><a href="{{ url_for('usa.state_history', state=state.state) }}">{{state.state}}</a></td>
                        <td>{{state.cases}}</td>
                        <td>{{state.deaths}}</td>
                    </tr>
                </tbody>
            {% endfor %}

        </table> 
    </div>

{% endblock %}